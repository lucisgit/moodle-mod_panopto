define ("mod_panopto/getauth",["jquery","core/ajax","core/notification","core/str","core/templates","core/modal_factory"],function(a,b,c,d,e,f){function g(e,f){var h=b.call([{methodname:"mod_panopto_get_auth",args:{contextid:e,panoptoid:f}}]);h[0].done(function(b){if(b){a("#panopto_progress_bar").val(100);window.location.replace(b)}setTimeout(function(){g(e,f)},1e3)}).fail(function(b){d.get_string(b.errorcode,"mod_panopto").done(function(b){a("#panopto_progress").replaceWith(b);a(".mod_panopto_progress").addClass("alert-warning p-2")}).fail(c.exception)})}return{init:function init(b,h){g(b,h);var i={id:"panopto_progress",width:350},j=a("#panopto_info");d.get_string("preparing","mod_panopto").done(function(a){f.create({title:a,body:e.render("mod_panopto/progress",i,""),type:f.types.DEFAULT,large:!1},j).done(function(a){a.getRoot().find(".modal-dialog").css({width:"400px","margin-top":"20rem"});j.trigger("click")}).fail(c.exception)}).fail(c.exception)}}});
//# sourceMappingURL=getauth.min.js.map
